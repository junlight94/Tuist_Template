.PHONY: generate

module:
	@echo "âœ¨ ìƒì„±í•  ëª¨ë“ˆ íƒ€ì…ì„ ì„ íƒí•´ì£¼ì„¸ìš”:"
	@echo "[1]  Feature ëª¨ë“ˆ ìƒì„±"
	@echo "[2]  Domain ëª¨ë“ˆ ìƒì„±"
	@read -p "ğŸ“ ì˜µì…˜ ì…ë ¥ (1, 2): " module_type; \
	case $$module_type in \
	1) \
		destination="Projects/Features"; \
		folderName="feature";; \
	2) \
		destination="Projects/Domains"; \
		folderName="domain";; \
	*) \
		echo "âŒ ì˜ëª»ëœ ì˜µì…˜ ì…ë ¥ì…ë‹ˆë‹¤. 1, 2 ì¤‘ì—ì„œ ì„ íƒí•˜ì„¸ìš”."; \
		exit 1;; \
	esac; \
	\
	echo "\n"; \
	echo "ğŸŒŸ ëª¨ë“ˆ ì´ë¦„ ì…ë ¥ ê·œì¹™:"; \
	echo "1ï¸âƒ£  'Feature', 'Domain'ëŠ” ìë™ìœ¼ë¡œ ë¶™ìŠµë‹ˆë‹¤! ì…ë ¥í•˜ì§€ ë§ˆì„¸ìš”."; \
	echo "-----------------------------------------------"; \
	\
	read -p "ğŸš€ ëª¨ë“ˆ ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”: " name; \
	\
	if [ -z "$$name" ]; then \
		echo "âŒ ëª¨ë“ˆ ì´ë¦„ì„ ì…ë ¥í•´ì•¼ í•©ë‹ˆë‹¤!"; \
		exit 1; \
	fi; \
	if [ "$$folderName" = "domain" ]; then \
		sh ./Script/addNewDomain.sh "$$name"; \
	elif [ "$$folderName" = "feature" ]; then \
		sh ./Script/addNewFeature.sh "$$name"; \
	else \
		echo "ğŸš¨ Error: Unknown folderName '$$folderName'"; \
		exit 1; \
	fi; \
	echo "\n"; \
	echo "ğŸ”¨ ëª¨ë“ˆ ìƒì„±ì¤‘ì…ë‹ˆë‹¤"; \
	tuist scaffold "$$folderName" --name "$$name" --path "$$destination"
